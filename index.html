<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCTS Rehberi</title>
    <style>
        :root {
            --bg-color: #f7f8fc;
            --card-bg: #ffffff;
            --border-color: #e6e8ee;
            --text-color: #2c3e50;
            --text-light: #576574;
            --accent-color: #6c5ce7;
            --success-color: #10b981;
            --shadow-color: rgba(108, 92, 231, 0.15);
        }
        html { height: 100%; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; display: flex; flex-direction: column; min-height: 100%; }
        .main-container { flex: 1; display: flex; }
        .view { display: none; width: 100%; min-height: 100%; box-sizing: border-box; }
        .view.active { display: flex; }
        .back-to-home { position: fixed; top: 20px; left: 20px; background-color: var(--card-bg); border: 1px solid var(--border-color); padding: 10px 15px; border-radius: 8px; cursor: pointer; font-weight: 500; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        /* YENÄ° ANA SAYFA STÄ°LLERÄ° */
        #home-view { 
            flex-direction: column; 
            justify-content: center; /* Dikeyde ortala */
            align-items: center; 
            text-align: center;
            padding: 2vh 2rem; /* Dikey padding ekran yÃ¼ksekliÄŸine duyarlÄ± */
            height: calc(100vh - 76px); /* Footer yÃ¼ksekliÄŸi Ã§Ä±karÄ±ldÄ± */
        }
        .home-title-section h1 { 
            font-size: clamp(2.5rem, 5vw, 3.5rem); /* Ekran boyutuna gÃ¶re deÄŸiÅŸen font boyutu */
            margin: 0; 
            font-weight: 700;
        }
        .home-title-section p {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            color: var(--text-light);
            margin-top: 10px;
            max-width: 600px;
        }
        
        .divider-line {
            height: 5px;
            width: 150px;
            background-image: linear-gradient(to right, var(--accent-color), var(--success-color));
            border: none;
            border-radius: 5px;
            margin: 3vh 0; /* BoÅŸluklar da ekran yÃ¼ksekliÄŸine duyarlÄ± */
        }

        .choice-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; }
        .choice-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 16px; padding: 30px 40px; width: 320px; box-shadow: 0 10px 30px rgba(0,0,0,0.07); cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .choice-card:hover { transform: translateY(-12px); box-shadow: 0 20px 40px var(--shadow-color); }
        .choice-card .icon { font-size: 4rem; margin-bottom: 20px; }
        .choice-card h2 { margin-bottom: 15px; font-size: 1.5rem; }
        .choice-card p { font-size: 1rem; color: var(--text-light); line-height: 1.6; }
        
        /* KÃ¼tÃ¼phane Stilleri */
        #library-view { flex-direction: row; align-items: stretch; height: 100vh; }
        .sidebar { flex: 0 0 280px; background-color: var(--card-bg); border-right: 1px solid var(--border-color); height: 100vh; padding: 20px; box-sizing: border-box; overflow-y: auto; padding-top: 70px; position: fixed; left:0; top:0; z-index: 50;}
        .main-content { flex: 1; padding: 30px; padding-top: 70px; overflow-y: auto; box-sizing: border-box; margin-left: 280px; margin-right: 450px; }
        .info-panel { flex: 0 0 450px; background-color: #fdfdff; border-left: 1px solid var(--border-color); height: 100vh; padding: 25px; box-sizing: border-box; overflow-y: auto; padding-top: 70px; position: fixed; right: 0; top: 0; z-index: 50;}
        .sidebar h2 { font-size: 20px; margin-top: 0; color: var(--accent-color); }
        #search-box { width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 5px; margin-bottom: 20px; box-sizing: border-box; font-size: 14px; }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar ul li a { display: block; padding: 10px 15px; text-decoration: none; color: var(--text-color); border-radius: 5px; font-weight: 500; }
        .status-group { margin-bottom: 40px; }
        .status-group h3 { border-bottom: 2px solid var(--border-color); padding-bottom: 10px; margin-bottom: 20px; }
        .status-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; }
        .status { border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; cursor: pointer; background-color: var(--card-bg); }
        .info-panel h4 { margin-top: 0; font-size: 18px; }
        .info-panel p { line-height: 1.6; font-size: 15px; margin: 10px 0; }
        .info-panel hr { border: 0; border-top: 1px solid #eee; margin: 15px 0; }
        
        /* SimÃ¼latÃ¶r Stilleri */
        #simulator-view { flex-direction: column; align-items: center; padding: 80px 20px 40px 20px; }
        .timeline-container { position: relative; width: 100%; max-width: 800px; }
        .timeline-container::before { content: ''; position: absolute; left: 50%; transform: translateX(-50%); top: 0; width: 4px; height: 100%; background-color: var(--border-color); }
        .timeline-item { position: relative; margin-bottom: 50px; width: 50%; }
        .timeline-item:nth-child(odd) { left: 0; padding-right: 50px; }
        .timeline-item:nth-child(even) { left: 50%; padding-left: 50px; }
        .timeline-content { background-color: var(--card-bg); border: 1px solid var(--border-color); padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); position: relative; }
        .timeline-content::after { content: ''; position: absolute; top: 20px; width: 0; height: 0; border-style: solid; }
        .timeline-item:nth-child(odd) .timeline-content::after { right: -15px; border-width: 8px 0 8px 16px; border-color: transparent transparent transparent var(--card-bg); }
        .timeline-item:nth-child(even) .timeline-content::after { left: -15px; border-width: 8px 16px 8px 0; border-color: transparent var(--card-bg) transparent transparent; }
        .node-icon { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; border-radius: 50%; border: 4px solid var(--accent-color); background-color: var(--accent-color); color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; z-index: 10; }
        .timeline-item:nth-child(odd) .node-icon { right: -25px; left: auto; transform: none; }
        .timeline-item:nth-child(even) .node-icon { left: -25px; transform: none; }
        .timeline-item.is-active .node-icon { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(79, 70, 229, 0); } 100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); } }
        .timeline-content h3 { margin-top: 0; font-size: 1.2rem; }
        .timeline-content p { font-size: 0.95rem; color: var(--text-light); }
        .options-grid { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; }
        .option-btn { background-color: var(--accent-color); color: white; border: none; padding: 10px 15px; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; }
        .option-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        /* DuyarlÄ±lÄ±k (Responsive) DÃ¼zenlemeleri */
        @media (max-width: 1280px) {
            #library-view { display: block; }
            .main-content { margin-right: 0; }
            .info-panel { position: static; width: 100%; flex-basis: 100%; border-left: none; border-top: 2px solid var(--border-color); height: auto; max-height: none; }
            .main-content { margin-left: 280px; }
        }
        @media (max-width: 992px) {
            .main-content { margin-left: 0; }
            .sidebar { position: static; width: 100%; flex-basis: 100%; border-right: none; border-bottom: 2px solid var(--border-color); height: auto; max-height: none; padding-top: 70px; }
            #library-view { flex-direction: column; }
            .back-to-home { position: sticky; top: 20px; }
            .main-content, .info-panel { padding-top: 30px; }
        }
        
        /* Footer Stili */
        .app-footer { background-color: var(--bg-color); color: var(--text-light); text-align: center; padding: 25px; border-top: 1px solid var(--border-color); font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="main-container">
        <div id="home-view" class="view active">
            <div class="home-title-section">
                <h1>NCTS Rehberi</h1>
                <p>NCTS sÃ¼reÃ§lerini ve statÃ¼ kodlarÄ±nÄ± anlamak iÃ§in tasarlanmÄ±ÅŸ hepsi bir arada yardÄ±mcÄ±nÄ±z.</p>
            </div>
            <hr class="divider-line">
            <div class="choice-container">
                <div id="go-to-library" class="choice-card">
                    <div class="icon">ðŸ“š</div>
                    <h2>StatÃ¼ KÃ¼tÃ¼phanesi</h2>
                    <p>TÃ¼m NCTS statÃ¼lerini arayÄ±n, filtreleyin ve gÃ¼mrÃ¼k idarelerine gÃ¶re ayrÄ±lmÄ±ÅŸ detaylarÄ±nÄ± Ã¶ÄŸrenin.</p>
                </div>
                <div id="go-to-simulator" class="choice-card">
                    <div class="icon">ðŸ”€</div>
                    <h2>Ä°nteraktif SimÃ¼latÃ¶r</h2>
                    <p>Bir transit sÃ¼recini adÄ±m adÄ±m, gerÃ§ekÃ§i mesajlaÅŸma akÄ±ÅŸÄ±yla dikey bir zaman tÃ¼nelinde deneyimleyin.</p>
                </div>
            </div>
        </div>

        <div id="library-view" class="view">
            <button class="back-to-home">Ana Sayfaya DÃ¶n</button>
            <nav class="sidebar">
                <h2>StatÃ¼ GruplarÄ±</h2>
                <input type="text" id="search-box" placeholder="StatÃ¼ ara...">
                <ul id="category-menu">
                    <li><a href="#grup-hareket">Hareket GÃ¼mrÃ¼k Ä°daresi</a></li>
                    <li><a href="#grup-transit">Transit GÃ¼mrÃ¼k Ä°daresi</a></li>
                    <li><a href="#grup-varis">VarÄ±ÅŸ GÃ¼mrÃ¼k Ä°daresi</a></li>
                    <li><a href="#grup-olay">Olay KaydÄ±</a></li>
                    <li><a href="#grup-arastirma">AraÅŸtÄ±rma / Tahsilat</a></li>
                    <li><a href="#grup-hata">Fonksiyonel Hatalar</a></li>
                </ul>
            </nav>
            <main class="main-content">
                <section id="grup-hareket" class="status-group">
                <h3>Hareket GÃ¼mrÃ¼k Ä°daresi</h3>
                <div class="status-grid">
                    <div class="status" data-desc="YÃ¼kÃ¼mlÃ¼nÃ¼n transit beyannamesi verilerini gÃ¼mrÃ¼k sistemine gÃ¶ndermesi."><strong>IE015 / DEC DAT</strong><span>Declaration Data</span></div>
                    <div class="status" data-desc="Sistemin, gÃ¶nderilen mesajÄ± teknik olarak sorunsuz aldÄ±ÄŸÄ±nÄ± bildiren olumlu teyit mesajÄ±."><strong>IE928 / POS ACK</strong><span>Positive Acknowledge</span></div>
                    <div class="status" data-desc="GÃ¼mrÃ¼ÄŸÃ¼n beyanÄ± kabul edip bir MRN atamasÄ±."><strong>IE028 / MRN ALL</strong><span>MRN Allocated</span></div>
                    <div class="status" data-desc="Hareket gÃ¼mrÃ¼ÄŸÃ¼nÃ¼n yaptÄ±ÄŸÄ± kontrolÃ¼n sonuÃ§larÄ±nÄ± bildiren mesaj."><strong>IE017 / DEP CON</strong><span>Departure Control Results</span></div>
                    <div class="status" data-desc="TeminatÄ±n geÃ§erliliÄŸini kontrol etmek iÃ§in gÃ¶nderilen mesaj."><strong>IE200 / GUA CHE</strong><span>Guarantee Check</span></div>
                    <div class="status" data-desc="Teminat kontrolÃ¼ (GUA CHE) mesajÄ±na verilen cevap."><strong>IE201 / GUA RES</strong><span>Guarantee Check Result</span></div>
                    <div class="status" data-desc="Bir iÅŸlem iÃ§in teminatÄ±n kullanÄ±lma (bloke etme) talebi."><strong>IE203 / GUA USE</strong><span>Guarantee Use</span></div>
                    <div class="status" data-desc="Teminat kullanÄ±m talebine (GUA USE) verilen cevap."><strong>IE205 / GUA USR</strong><span>Guarantee Use Result</span></div>
                    <div class="status" data-desc="KullanÄ±lan teminatÄ±n geÃ§ersiz olduÄŸunu bildiren hata mesajÄ±."><strong>IE055 / GUA INV</strong><span>Guarantee Not Valid</span></div>
                    <div class="status" data-desc="Tescil edilmiÅŸ bir beyannamede deÄŸiÅŸiklik yapma talebi."><strong>IE013 / DEC AMD</strong><span>Declaration Amendment</span></div>
                    <div class="status" data-desc="DeÄŸiÅŸiklik talebinin (DEC AMD) gÃ¼mrÃ¼k tarafÄ±ndan kabul edilmesi."><strong>IE004 / AMD ACC</strong><span>Amendment Acceptance</span></div>
                    <div class="status" data-desc="TÃ¼m kontroller sonrasÄ± aracÄ±n transit rejiminde sevkine izin verilmesi."><strong>IE029 / REL TRA</strong><span>Release for Transit</span></div>
                    <div class="status" data-desc="Antispe edilen varÄ±ÅŸ kaydÄ±."><strong>IE050 / ATR SND</strong><span>Anticipated Transit Record</span></div>
                    <div class="status" data-desc="BeyanÄ±n hareket gÃ¼mrÃ¼ÄŸÃ¼ tarafÄ±ndan reddedilmesi."><strong>IE056 / DEP REJ</strong><span>Rejection from Office of Departure</span></div>
                    <div class="status" data-desc="BeyanÄ±n iptal edilmesi iÃ§in gÃ¼mrÃ¼ÄŸe yapÄ±lan talep."><strong>IE014 / DEC INV</strong><span>Declaration Invalidation Request</span></div>
                    <div class="status" data-desc="Ä°ptal talebine gÃ¼mrÃ¼ÄŸÃ¼n verdiÄŸi karar (olumlu/olumsuz)."><strong>IE009 / INV DEC</strong><span>Invalidation Decision</span></div>
                    <div class="status" data-desc="Kontrol vb. sonrasÄ± gÃ¼mrÃ¼ÄŸÃ¼n transite izin VERMEDÄ°ÄžÄ°NÄ° bildiren mesaj."><strong>IE051 / REL NOT</strong><span>No Release for Transit</span></div>
                    <div class="status" data-desc="Ã–nceden sunulmuÅŸ beyanname iÃ§in eÅŸyanÄ±n gÃ¼mrÃ¼ÄŸe sunulduÄŸunun bildirilmesi."><strong>IE170 / PRE NOT</strong><span>Presentation Notification</span></div>
                    <div class="status" data-desc="YÃ¼kÃ¼mlÃ¼nÃ¼n serbest bÄ±rakma talebinde bulunmasÄ±."><strong>IE054 / REQ REL</strong><span>Request of Release</span></div>
                    <div class="status" data-desc="Teminat kullanÄ±mÄ±nÄ±n iptal edilmesi."><strong>IE204 / GUA CAN</strong><span>Guarantee Use Cancellation</span></div>
                    <div class="status" data-desc="Ä°ÅŸlemin baÅŸarÄ±yla sonlandÄ±rÄ±lÄ±p teminatÄ±n Ã§Ã¶zÃ¼ldÃ¼ÄŸÃ¼nÃ¼ bildiren nihai mesaj."><strong>IE045 / WRT NOT</strong><span>Write-off Notification</span></div>
                </div>
            </section>
            <section id="grup-transit" class="status-group">
                <h3>Transit GÃ¼mrÃ¼k Ä°daresi</h3>
                <div class="status-grid">
                    <div class="status" data-desc="Antispe edilen Ã§Ä±kÄ±ÅŸ kaydÄ± talebi."><strong>IE164 / AXR REQ</strong><span>Anticipated Exit Record Request</span></div>
                    <div class="status" data-desc="Antispe edilen Ã§Ä±kÄ±ÅŸ kaydÄ± talebine cevap."><strong>IE165 / AXR RSP</strong><span>Anticipated Exit Record Response</span></div>
                    <div class="status" data-desc="GÃ¼venlik alanÄ±ndan ayrÄ±lÄ±ÅŸ bildirimi."><strong>IE168 / LSA NOT</strong><span>Notification Leaving Security Area</span></div>
                    <div class="status" data-desc="AracÄ±n bir sÄ±nÄ±r kapÄ±sÄ±ndan geÃ§tiÄŸini bildiren mesaj."><strong>IE118 / NFC NOT</strong><span>Notification Crossing Frontier</span></div>
                </div>
            </section>
            <section id="grup-varis" class="status-group">
                <h3>VarÄ±ÅŸ GÃ¼mrÃ¼k Ä°daresi</h3>
                <div class="status-grid">
                    <div class="status" data-desc="VarÄ±ÅŸÄ±n gerÃ§ekleÅŸtiÄŸine dair gÃ¼mrÃ¼kler arasÄ± teyit mesajÄ±."><strong>IE006 / ARR ADV</strong><span>Arrival Advice</span></div>
                    <div class="status" data-desc="Kredi referans tutarÄ±."><strong>IE209 / GUA CRE</strong><span>Credit Reference Amount</span></div>
                    <div class="status" data-desc="Ä°letilmiÅŸ varÄ±ÅŸ bildirimi teyidi."><strong>IE024 / FWD ARR</strong><span>Forwarded Arrival Advice</span></div>
                    <div class="status" data-desc="VarÄ±ÅŸ gÃ¼mrÃ¼ÄŸÃ¼nÃ¼n yaptÄ±ÄŸÄ± kontrolÃ¼n sonuÃ§larÄ±nÄ± bildiren mesaj."><strong>IE018 / DES CON</strong><span>Destination Control Results</span></div>
                    <div class="status" data-desc="UyuÅŸmazlÄ±klarÄ±n bildirilmesi."><strong>IE019 / DIS SND</strong><span>Discrepancies</span></div>
                    <div class="status" data-desc="UyuÅŸmazlÄ±klarÄ±n Ã§Ã¶zÃ¼ldÃ¼ÄŸÃ¼nÃ¼ bildiren mesaj."><strong>IE049 / DIS NOT</strong><span>Discrepancies Solved Notification</span></div>
                    <div class="status" data-desc="Antispe edilen varÄ±ÅŸ kaydÄ± talebi."><strong>IE002 / AAR REQ</strong><span>Anticipated Arrival Record Request</span></div>
                    <div class="status" data-desc="Antispe edilen varÄ±ÅŸ kaydÄ± talebine cevap."><strong>IE003 / AAR RSP</strong><span>Anticipated Arrival Record Response</span></div>
                    <div class="status" data-desc="AracÄ±n varÄ±ÅŸ gÃ¼mrÃ¼ÄŸÃ¼ne ulaÅŸtÄ±ÄŸÄ±nÄ±n yÃ¼kÃ¼mlÃ¼ tarafÄ±ndan bildirilmesi."><strong>IE007 / ARR NOT</strong><span>Arrival Notification</span></div>
                    <div class="status" data-desc="VarÄ±ÅŸ gÃ¼mrÃ¼ÄŸÃ¼nÃ¼n eÅŸyanÄ±n boÅŸaltÄ±lmasÄ±na izin vermesi."><strong>IE043 / ULD PER</strong><span>Unloading Permission</span></div>
                    <div class="status" data-desc="BoÅŸaltma sÄ±rasÄ±nda tespit edilen uyuÅŸmazlÄ±klarÄ±n (eksik/fazla) bildirilmesi."><strong>IE044 / ULD REM</strong><span>Unloading Remarks</span></div>
                    <div class="status" data-desc="EÅŸyanÄ±n varÄ±ÅŸ yerinde serbest bÄ±rakÄ±ldÄ±ÄŸÄ±nÄ± bildiren mesaj."><strong>IE025 / GDS REL</strong><span>Goods Release Notification</span></div>
                </div>
            </section>
             <section id="grup-olay" class="status-group">
                <h3>Olay KaydÄ±</h3>
                <div class="status-grid">
                     <div class="status" data-desc="TaÅŸÄ±ma hakkÄ±nda gÃ¼mrÃ¼kler arasÄ± sorgu."><strong>IE027 / MVT QUE</strong><span>Movement Query</span></div>
                    <div class="status" data-desc="TaÅŸÄ±ma sorgusuna (MVT QUE) verilen cevap."><strong>IE038 / MVT RSP</strong><span>Movement Response</span></div>
                    <div class="status" data-desc="TaÅŸÄ±ma sÄ±rasÄ±nda bir olay (kaza, aktarma vb.) olduÄŸunun bildirilmesi."><strong>IE180 / INC NOT</strong><span>Incident Notification</span></div>
                    <div class="status" data-desc="Olay bildiriminin iletilmesi."><strong>IE181 / INC FWD</strong><span>Forwarded Incident Notification</span></div>
                </div>
            </section>
            <section id="grup-arastirma" class="status-group">
                <h3>AraÅŸtÄ±rma / Tahsilat</h3>
                <div class="status-grid">
                    <div class="status" data-desc="StatÃ¼ sorgusuna sistemin verdiÄŸi cevap."><strong>IE095 / STD RSP</strong><span>Status Response</span></div>
                    <div class="status" data-desc="Bir beyannamenin statÃ¼sÃ¼nÃ¼ sorgulama talebi."><strong>IE094 / STD REQ</strong><span>Status Request</span></div>
                    <div class="status" data-desc="SoruÅŸturma talebine (ENQ REQ) verilen cevap."><strong>IE143 / ENQ NEG</strong><span>Enquiry Response</span></div>
                    <div class="status" data-desc="Kurtarma/tahsilat talebinin kabul edildiÄŸinin bildirilmesi."><strong>IE151 / REC ACC</strong><span>Recovery Acceptance</span></div>
                    <div class="status" data-desc="Kurtarma/tahsilat talebi."><strong>IE150 / REC REQ</strong><span>Recovery Request</span></div>
                    <div class="status" data-desc="SoruÅŸturma bilgisi."><strong>IE144 / ENQ INF</strong><span>Enquiry Information</span></div>
                    <div class="status" data-desc="ZamanÄ±nda varmayan beyan iÃ§in gÃ¼mrÃ¼kler arasÄ± soruÅŸturma talebi."><strong>IE142 / ENQ REQ</strong><span>Enquiry Request</span></div>
                    <div class="status" data-desc="Kurtarma/tahsilat sevk bildirimi."><strong>IE152 / REC DIS</strong><span>Recovery Dispatch</span></div>
                    <div class="status" data-desc="SoruÅŸturma bildirimini iptal etme."><strong>IE059 / CAN ENQ</strong><span>Cancel Enquiry</span></div>
                    <div class="status" data-desc="SoruÅŸturma bilgi talebi."><strong>IE145 / INF REQ</strong><span>Information Request</span></div>
                    <div class="status" data-desc="Kurtarma/tahsilat iletiÅŸimi."><strong>IE063 / REC COM</strong><span>Recovery Communication</span></div>
                </div>
            </section>
            <section id="grup-hata" class="status-group">
                <h3>Fonksiyonel Hatalar</h3>
                <div class="status-grid">
                    <div class="status" data-desc="Mesaj formatÄ± doÄŸru olsa da iÃ§erdiÄŸi iÅŸlevsel verilerde hata olduÄŸunu bildiren teknik ret."><strong>IE906 / FUN NCK</strong><span>Functional NACK</span></div>
                    <div class="status" data-desc="GÃ¶nderilen mesajÄ±n yapÄ±sÄ±nda (XML formatÄ±nda) hata olduÄŸunu bildiren teknik ret."><strong>IE917 / XML NCK</strong><span>XML NACK</span></div>
                </div>
            </section>
            </main>
            <aside class="info-panel">
                <h4>NCTS StatÃ¼ DetayÄ±</h4>
                <p>LÃ¼tfen listeden bir statÃ¼ye tÄ±klayÄ±n.</p>
            </aside>
        </div>

        <div id="simulator-view" class="view">
            <button class="back-to-home">Ana Sayfaya DÃ¶n</button>
            <div id="timeline-container" class="timeline-container"></div>
        </div>
    </div>

    <footer class="app-footer">
        &copy; <span id="current-year"></span> [Åžirket AdÄ±nÄ±z / Proje Sahibi]. TÃ¼m haklarÄ± saklÄ±dÄ±r.
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('current-year').textContent = new Date().getFullYear();
    const views = document.querySelectorAll('.view');
    const goToLibraryBtn = document.getElementById('go-to-library');
    const goToSimulatorBtn = document.getElementById('go-to-simulator');
    const backToHomeBtns = document.querySelectorAll('.back-to-home');
    let simulatorInitialized = false;
    let libraryInitialized = false;

    function showView(viewId) {
        views.forEach(view => view.classList.remove('active'));
        document.getElementById(viewId).classList.add('active');
        
        if (viewId === 'library-view' && !libraryInitialized) {
            initializeLibrary();
        }
        if (viewId === 'simulator-view' && !simulatorInitialized) {
            initializeSimulator();
        }
    }
    
    goToLibraryBtn.addEventListener('click', () => showView('library-view'));
    goToSimulatorBtn.addEventListener('click', () => showView('simulator-view'));
    backToHomeBtns.forEach(btn => btn.addEventListener('click', () => showView('home-view'));

    function initializeLibrary() {
        if(libraryInitialized) return;
        const statusBoxes = document.querySelectorAll('#library-view .status');
        const infoPanel = document.querySelector('#library-view .info-panel');
        const searchBox = document.getElementById('search-box');
        const categoryMenu = document.getElementById('category-menu');
        const statusGroups = document.querySelectorAll('#library-view .status-group');

        statusBoxes.forEach(box => {
            box.addEventListener('click', function () {
                const title = this.querySelector('strong').textContent;
                const longName = this.querySelector('span').textContent;
                const description = this.dataset.desc;
                infoPanel.innerHTML = `<h4>${title}</h4><p><strong>AÃ§Ä±lÄ±mÄ±:</strong> ${longName}</p><hr><p><strong>AnlamÄ±:</strong> ${description}</p>`;
            });
        });

        searchBox.addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase().trim();
            statusGroups.forEach(group => {
                let groupHasVisibleItems = false;
                const statusesInGroup = group.querySelectorAll('.status');
                statusesInGroup.forEach(box => {
                    if (box.textContent.toLowerCase().includes(searchTerm)) {
                        box.style.display = 'block';
                        groupHasVisibleItems = true;
                    } else {
                        box.style.display = 'none';
                    }
                });
                group.style.display = groupHasVisibleItems ? 'block' : 'none';
            });
        });

        categoryMenu.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
                e.preventDefault();
                const targetId = e.target.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    searchBox.value = '';
                    statusBoxes.forEach(box => box.style.display = 'block');
                    statusGroups.forEach(group => group.style.display = 'block');
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
        libraryInitialized = true;
    }

    const workflow = {
        'START': { title: "SimÃ¼lasyon BaÅŸlangÄ±cÄ±", desc: "Yeni bir transit beyannamesi gÃ¶ndermek iÃ§in aÅŸaÄŸÄ±daki butona tÄ±klayÄ±n.", type: 'user_action', icon: 'â–¶ï¸', options: [{ text: 'BeyanÄ± GÃ¶nder (IE015)', nextState: 'IE015_SENT' }] },
        'IE015_SENT': { title: "IE015 - Beyan GÃ¶nderildi", desc: "MesajÄ±nÄ±z gÃ¼mrÃ¼k sistemine iletildi. Sistemden teknik teyit bekleniyor...", type: 'system_response', icon: 'ðŸ“¤', autoTransition: { nextState: 'POS_ACK_RECEIVED', delay: 1500 } },
        'POS_ACK_RECEIVED': { title: "IE928 - Olumlu Teyit AlÄ±ndÄ±", desc: "Teknik teyit (POS_ACK) alÄ±ndÄ±. BeyanÄ±n iÃ§eriÄŸi kontrol edilecek ve tescil (MRN) beklenecek...", type: 'system_response', icon: 'ðŸ‘', autoTransition: { nextState: 'IE028_RECEIVED', delay: 2000 } },
        'IE028_RECEIVED': { title: "IE028 - Beyan Kabul Edildi", desc: "Beyannameniz kabul edildi ve bir MRN atandÄ±. Sistem ÅŸimdi kontrol kararÄ±nÄ± bildirecek...", type: 'system_response_success', icon: 'âœ…', autoTransition: { nextState: 'IE060_RECEIVED', delay: 1500 } },
        'IE060_RECEIVED': { title: "IE060 - Kontrol KararÄ± Verildi", desc: "GÃ¼mrÃ¼k, beyan iÃ§in kontrol kararÄ± verdi. Åžimdi kontrolÃ¼ yapÄ±p teminatÄ± kullanmanÄ±z gerekiyor.", type: 'system_response', icon: 'ðŸ”', options: [{ text: 'KontrolÃ¼ Tamamla ve TeminatÄ± Kullan', nextState: 'GUARANTEE_USE_SENT' }] },
        'GUARANTEE_USE_SENT': { title: "IE203 - Teminat KullanÄ±m Talebi", desc: "Kontroller tamamlandÄ± ve teminatÄ±n kullanÄ±lmasÄ± iÃ§in sisteme talep gÃ¶nderildi.", type: 'system_response', icon: 'ðŸ”', autoTransition: { nextState: 'GUARANTEE_USE_RESULT', delay: 1500 } },
        'GUARANTEE_USE_RESULT': { title: "IE205 - Teminat KullanÄ±m Sonucu", desc: "Teminat baÅŸarÄ±yla kullanÄ±ldÄ±. ArtÄ±k sistemin aracÄ± serbest bÄ±rakmasÄ± bekleniyor.", type: 'system_response_success', icon: 'âœ…', autoTransition: { nextState: 'IE029_RECEIVED', delay: 2000 } },
        'IE029_RECEIVED': { title: "IE029 - Transit Ä°Ã§in Serbest BÄ±rakÄ±ldÄ±", desc: "AraÃ§ sevk edildi. Bir sonraki adÄ±m, sÄ±nÄ±r kapÄ±sÄ±ndan geÃ§iÅŸ yapmaktÄ±r.", type: 'system_response_success', icon: 'ðŸšš', options: [{ text: 'SÄ±nÄ±r KapÄ±sÄ±nÄ± GeÃ§ (IE118)', nextState: 'FRONTIER_CROSSING' }] },
        'FRONTIER_CROSSING': { title: "IE118 - SÄ±nÄ±r GeÃ§iÅŸi Bildirimi", desc: "AraÃ§ transit gÃ¼mrÃ¼ÄŸÃ¼nden geÃ§ti. Onay alÄ±ndÄ± ve araÃ§ yoluna devam ediyor.", type: 'system_response', icon: 'ðŸŒ', options: [{ text: 'VarÄ±ÅŸ Bildirimi Yap (IE007)', nextState: 'IE007_SENT' }] },
        'IE007_SENT': { title: "IE007 - VarÄ±ÅŸ Bildirimi GÃ¶nderildi", desc: "AraÃ§ varÄ±ÅŸ gÃ¼mrÃ¼ÄŸÃ¼ne ulaÅŸtÄ±, bildirim yapÄ±ldÄ±. GÃ¼mrÃ¼ÄŸÃ¼n boÅŸaltma izni bekleniyor...", type: 'system_response', icon: 'ðŸ“¥', autoTransition: { nextState: 'IE043_RECEIVED', delay: 2000 } },
        'IE043_RECEIVED': { title: "IE043 - BoÅŸaltma Ä°zni AlÄ±ndÄ±", desc: "GÃ¼mrÃ¼k boÅŸaltma izni verdi. BoÅŸaltma sonrasÄ± durumu bildirin.", type: 'system_response_success', icon: 'âœ…', options: [{ text: 'BoÅŸaltma Sorunsuz TamamlandÄ±', nextState: 'IE045_PROCESSED' }] },
        'IE045_PROCESSED': { title: "IE045 - Rejim SonlandÄ±rÄ±ldÄ± (Ä°bra)", desc: "TÃ¼m iÅŸlemler baÅŸarÄ±yla tamamlandÄ±. SimÃ¼lasyon bitti!", type: 'system_response_success', icon: 'ðŸ', options: [] }
    };
    
    function initializeSimulator() {
        if(simulatorInitialized) {
            resetSimulator();
            return;
        }
        const timelineContainer = document.getElementById('timeline-container');
        let path = [];

        function render() {
            const currentStateKey = path[path.length - 1];
            const state = workflow[currentStateKey];
            if (!state) return;

            const item = document.createElement('div');
            item.className = 'timeline-item';
            if (path.length > 1) { item.style.opacity = 0; item.style.transform = 'translateY(20px)'; }
            const pastItems = timelineContainer.querySelectorAll('.timeline-item');
            pastItems.forEach(pi => { pi.classList.remove('is-active'); if(!pi.classList.contains('is-past')) pi.classList.add('is-past'); });
            item.classList.add('is-active');

            const content = document.createElement('div');
            content.className = 'timeline-content';
            content.innerHTML = `<div class="node-icon">${state.icon}</div><h3>${state.title}</h3><p>${state.desc}</p><div class="options-grid"></div>`;
            item.appendChild(content);
            timelineContainer.appendChild(item);

            const optionsGrid = content.querySelector('.options-grid');
            if (state.autoTransition) {
                setTimeout(() => { path.push(state.autoTransition.nextState); render(); }, state.autoTransition.delay);
            } else if (state.options && state.options.length > 0) {
                state.options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option.text;
                    button.addEventListener('click', () => {
                        content.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);
                        path.push(option.nextState);
                        render();
                    });
                    optionsGrid.appendChild(button);
                });
            } else {
                 const resetButton = document.createElement('button');
                 resetButton.className = 'option-btn reset';
                 resetButton.textContent = 'Yeni SimÃ¼lasyon BaÅŸlat';
                 resetButton.addEventListener('click', resetSimulator);
                 optionsGrid.appendChild(resetButton);
            }

            if (path.length > 1) { requestAnimationFrame(() => { item.style.transition = 'opacity 0.5s, transform 0.5s'; item.style.opacity = 1; item.style.transform = 'translateY(0)'; }); }
            item.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function resetSimulator() {
            timelineContainer.innerHTML = '';
            path = ['START'];
            render();
        }

        simulatorInitialized = true;
        resetSimulator();
        document.querySelector('#simulator-view .back-to-home').addEventListener('click', resetSimulator);
    }
    
    showView('home-view');
});
</script>
</body>
</html>
